---
// src/pages/planes.astro
import Layout from '../layouts/Layout.astro';

const WHATSAPP_NUMBER = "521234567890"; // Reemplaza con tu n√∫mero real

const plans = [
  {
    id: 'impulso',
    name: 'Impulso',
    price: '$0',
    period: 'Permanencia 6 meses',
    description: 'Para emprendedores que inician su presencia digital.',
    icon: 'rocket',
    features: [
      'Landing Page Optimizada',
      'Dise√±o Responsive',
      'SEO B√°sico',
      'SSL Incluido',
      'Hosting 1 A√±o',
      'Soporte por Email',
    ],
    notIncluded: ['IA Integrada', 'Dashboard Analytics', 'Desarrollo a Medida'],
    accentColor: '#00ffff',
    buttonText: 'Comenzar Ahora',
  },
  {
    id: 'autoridad',
    name: 'Autoridad',
    price: '$200k',
    period: 'MXN / Pago √∫nico',
    description: 'Para negocios listos para escalar y dominar su mercado.',
    icon: 'sparkles',
    popular: true,
    accentColor: '#6f00ff',
    buttonText: 'Comenzar Ahora',
    features: [
      'Web App Completa',
      'Dise√±o UI/UX Premium',
      'SEO T√©cnico Avanzado',
      'Core Web Vitals Perfectos',
      'Integraci√≥n con CRM',
      'Chatbot IA B√°sico',
      'Dashboard Analytics',
      'Soporte Prioritario',
      '3 Meses de Optimizaci√≥n',
    ],
    notIncluded: [],
  },
  {
    id: 'elite',
    name: 'Elite',
    price: '$450k',
    period: 'MXN / Pago √∫nico',
    description: 'Soluci√≥n empresarial completa. Sin l√≠mites.',
    icon: 'crown',
    premium: true,
    accentColor: '#d4a017',
    buttonText: 'Comenzar Ahora',
    features: [
      'Todo de Autoridad +',
      'Desarrollo Full-Stack',
      'IA Avanzada Personalizada',
      'Integraciones Ilimitadas',
      'Panel Administrativo',
      'App M√≥vil (iOS/Android)',
      'Consultor Dedicado',
      '6 Meses de Soporte VIP',
      'Capacitaci√≥n del Equipo',
    ],
    notIncluded: [],
  },
];
---

<Layout title="Planes y Precios">
  <section class="relative pt-32 pb-20 overflow-hidden z-500">
    <div class="container mx-auto px-6 text-center">
      <span class="text-cyan-400 font-icons uppercase tracking-[0.3em] text-xs mb-4 block">
        PLANES
      </span>
      <h1 class="text-5xl md:text-7xl font-bold mb-6 tracking-tighter text-white">
        Invierte en tu <span class="text-gradient">Crecimiento</span>
      </h1>
      <p class="text-lg text-gray-400 max-w-2xl mx-auto font-icons">
        Elige el plan que mejor se adapte a tus objetivos. Todos incluyen<br/>garant√≠a de satisfacci√≥n.
      </p>
    </div>
  </section>

  <section class="relative pb-32 z-500">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-3 gap-6 max-w-7xl mx-auto">
        {plans.map((plan, index) => (
          <div 
            class="relative flex flex-col scroll-reveal opacity-0 translate-y-10 transition-all duration-1000 ease-out"
            style={`transition-delay: ${index * 200}ms`}
          >
            {/* Badge Superior */}
            {plan.popular && (
              <div class="absolute -top-3 left-1/2 -translate-x-1/2 z-20">
                <span class="inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-cyan-500 to-purple-600 px-4 py-1.5 text-[10px] font-bold text-white tracking-wide">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 24 24" fill="currentColor"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
                  M√°s Popular
                </span>
              </div>
            )}
            
            {plan.premium && (
              <div class="absolute -top-3 left-1/2 -translate-x-1/2 z-20">
                <span class="inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-yellow-600 to-yellow-500 px-4 py-1.5 text-[10px] font-bold text-black tracking-wide">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 24 24" fill="currentColor"><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/></svg>
                  Premium
                </span>
              </div>
            )}

            {/* Card Principal */}
            <div class={`h-full flex flex-col p-8 rounded-3xl bg-[#0a0a0f] border transition-all duration-300 relative overflow-hidden group ${
              plan.popular ? 'border-purple-500/30' : plan.premium ? 'border-yellow-600/30' : 'border-gray-800'
            }`}>
              
              {/* Glow effect de fondo */}
              <div 
                class="absolute -top-32 -right-32 w-64 h-64 opacity-20 blur-[100px] rounded-full pointer-events-none"
                style={`background-color: ${plan.accentColor}`}
              ></div>

              {/* Header con icono */}
              <div class="mb-6 relative z-10">
                <div class="flex items-center justify-between mb-6">
                  <div class={`h-14 w-14 flex items-center justify-center rounded-2xl ${
                    plan.icon === 'rocket' ? 'bg-gray-800/50' : 
                    plan.icon === 'sparkles' ? 'bg-purple-500/10' : 
                    'bg-yellow-600/10'
                  }`}>
                    {plan.icon === 'rocket' && (
                      <svg xmlns="http://www.w3.org/2000/svg" class="text-gray-400 h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/>
                        <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
                        <path d="M9 12H4s.55-3.03 2-4c1.62-1.1 4-1 4-1"/>
                        <path d="M12 15v5s3.03-.55 4-2c1.1-1.62 1-4 1-4"/>
                      </svg>
                    )}
                    {plan.icon === 'sparkles' && (
                      <svg xmlns="http://www.w3.org/2000/svg" class="text-purple-500 h-7 w-7" viewBox="0 0 24 24" fill="currentColor">
                        <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                      </svg>
                    )}
                    {plan.icon === 'crown' && (
                      <svg xmlns="http://www.w3.org/2000/svg" class="text-yellow-500 h-7 w-7" viewBox="0 0 24 24" fill="currentColor">
                        <path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/>
                      </svg>
                    )}
                  </div>
                </div>
                
                <h3 class="text-2xl font-bold mb-3 text-white tracking-tight">{plan.name}</h3>
                <div class="flex items-baseline gap-1 mb-2">
                  <span class={`text-5xl font-bold tracking-tighter ${
                    plan.icon === 'sparkles' ? 'text-cyan-400' : 
                    plan.icon === 'crown' ? 'text-yellow-500' : 
                    'text-white'
                  }`}>
                    {plan.price}
                  </span>
                </div>
                <p class="text-xs font-icons text-gray-500 uppercase tracking-wide">{plan.period}</p>
              </div>

              <p class="text-gray-400 mb-8 text-sm leading-relaxed font-icons">{plan.description}</p>

              {/* Lista de caracter√≠sticas */}
              <ul class="space-y-3.5 mb-8 flex-grow relative z-10">
                {plan.features.map((feature) => (
                  <li class="flex items-start gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 shrink-0 text-green-500 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                    <span class="text-sm text-gray-300 leading-tight">{feature}</span>
                  </li>
                ))}
                {plan.notIncluded.map((feature) => (
                  <li class="flex items-start gap-3 opacity-30">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 shrink-0 text-gray-600 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M18 6 6 18"/>
                      <path d="m6 6 12 12"/>
                    </svg>
                    <span class="text-sm text-gray-600 line-through leading-tight">{feature}</span>
                  </li>
                ))}
              </ul>

              {/* Bot√≥n de CTA */}
              <a
                href={`https://wa.me/${WHATSAPP_NUMBER}?text=Hola! Me interesa potenciar mi negocio con el Plan ${plan.name}.`}
                target="_blank"
                rel="noopener noreferrer"
                class={`w-full flex items-center justify-center gap-2 py-4 px-6 rounded-2xl font-bold text-sm transition-all duration-300 transform hover:scale-[1.02] active:scale-95 z-10 ${
                  plan.popular 
                    ? 'bg-gradient-to-r from-cyan-500 to-purple-600 text-white shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50' 
                    : plan.premium 
                    ? 'bg-gradient-to-r from-yellow-600 to-yellow-500 text-black shadow-lg shadow-yellow-500/30 hover:shadow-yellow-500/50'
                    : 'border-2 border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-500/50'
                }`}
              >
                <span>{plan.buttonText}</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 12h14"/>
                  <path d="m12 5 7 7-7 7"/>
                </svg>
              </a>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="relative py-24 border-t border-white/5 overflow-hidden z-500">
    <div class="absolute inset-0 bg-radial-at-c opacity-30"></div>
    <div class="container mx-auto px-6 text-center relative z-10">
      <div class="max-w-3xl mx-auto p-12 rounded-[3rem] bg-white/[0.02] border border-white/5 backdrop-blur-3xl">
        <div class="text-6xl mb-8 filter drop-shadow-[0_0_15px_#00ffff44]">üõ°Ô∏è</div>
        <h3 class="text-3xl font-bold mb-6 text-white tracking-tight">
          Garant√≠a de Satisfacci√≥n <span class="text-[#00ffff]">30 D√≠as</span>
        </h3>
        <p class="text-gray-400 text-lg font-icons leading-relaxed">
          Nuestra l√≥gica es simple: solo ganamos si t√∫ ganas. Si el resultado no supera tus expectativas t√©cnicas y est√©ticas en el primer mes, devolvemos tu inversi√≥n √≠ntegra. Sin fricciones.
        </p>
      </div>
    </div>
  </section>
</Layout>

<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.remove('opacity-0', 'translate-y-10');
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.scroll-reveal').forEach(el => observer.observe(el));
</script>
