---
// Componente: Hero Engineering - Optimizado para Conversión y Rendimiento
const stats = [
  { value: 50, suffix: '+', label: 'Sistemas Desplegados', icon: 'sparkles' },
  { value: 99, suffix: '%', label: 'Optimización de Core Web Vitals', icon: 'trending-up' },
  { value: 3.5, suffix: 'x', label: 'Incremento Promedio ROI', icon: 'zap' },
];
---

<header id="hero-content" class="relative z-[50] container mx-auto md:px-4 sm:px-6 text-center pt-32 md:pt-40 md:pb-20 md:mb-10 md:min-h-[100vh] flex items-center justify-center flex-col gap-4 tracking-tight overflow-hidden">
  
  <div id="bg-effect" class="absolute inset-0 pointer-events-none bg-radial-at-c opacity-30 transition-transform duration-200 ease-out" aria-hidden="true"></div>
  
  <h1 class="hero-title font-black leading-[1.1] tracking-tight opacity-0">
    <span class="block text-white mb-4 text-lg md:text-2xl font-medium uppercase tracking-[0.2em]">
      Ingeniería Digital
    </span>
    <span class="block relative">
      <span class="relative inline-block bg-gradient-to-r from-[#00E5FF] via-[#0099ff] to-[#a855f7] bg-clip-text text-transparent animate-gradient leading-[1] text-4xl md:text-7xl">
        Sistemas de Adquisición <br class="hidden md:block" /> de Alto Rendimiento
      </span>
    </span>
  </h1>

  <p class="hero-subtitle text-lg md:text-xl text-gray-400 max-w-4xl mx-auto mb-10 leading-relaxed px-4 opacity-0 tracking-normal">
    Agencia digital especializada en construir y escalar productos web y soluciones digitales que generan resultados medibles para negocios. No nos limitamos a “hacer páginas”, sino que  <strong class="text-white font-semibold">trabajamos toda la infraestructura digital con un enfoque en rendimiento, automatización, posicionamiento y conversión.</strong>.
  </p>

  <div class="hero-ctas flex flex-col items-center justify-center gap-6 mb-16 sm:mb-24 px-4 opacity-0 w-full md:max-w-7xl">
    <a
      href="/contact"
      aria-label="Iniciar auditoría técnica de ingeniería digital"
      class="cta-primary group relative px-10 py-6 bg-gradient-to-r from-[#0099ff] to-[#a855f7] text-white font-bold rounded-full overflow-hidden transition-all duration-300 hover:shadow-[0_0_50px_rgba(0,153,255,0.4)] w-full sm:w-auto hover:scale-105"
    >
      <div class="absolute inset-0 bg-gradient-to-r from-[#a855f7] to-[#0099ff] opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block"></div>
      <div class="cta-shimmer absolute inset-0 bg-white/20 -translate-x-full skew-x-[-20deg] hidden md:block"></div>
      <span class="relative flex items-center justify-center text-sm md:text-xl uppercase tracking-widest">
        Iniciar Auditoría Técnica
      </span>
    </a>

    <!-- <dl class="hero-stats grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 w-full md:max-w-5xl mx-auto mt-12">
      {stats.map((stat, i) => (
        <div class="stat-card relative group opacity-0" data-delay={i * 100}>
          <div class="absolute inset-0 bg-gradient-to-br from-[#0099ff]/10 to-[#a855f7]/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500" aria-hidden="true"></div>
          
          <div class="relative rounded-2xl p-8 border border-white/10 group-hover:border-[#00E5FF]/40 transition-all duration-300 backdrop-blur-md bg-white/[0.03]">
            <div class="mb-4 flex justify-center">
              <div class="p-3 bg-gradient-to-br from-[#0099ff]/20 to-[#a855f7]/20 rounded-xl group-hover:scale-110 transition-transform duration-300">
                {stat.icon === 'sparkles' && (
                  <svg class="w-6 h-6 text-[#00E5FF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                  </svg>
                )}
                {stat.icon === 'trending-up' && (
                  <svg class="w-6 h-6 text-[#00E5FF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                  </svg>
                )}
                {stat.icon === 'zap' && (
                  <svg class="w-6 h-6 text-[#00E5FF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                )}
              </div>
            </div>
            
            <dd class="text-4xl md:text-5xl font-black bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent mb-2">
              <span class="counter" data-target={stat.value}>0</span>{stat.suffix}
            </dd>
            
            <dt class="text-xs md:text-sm text-gray-500 uppercase tracking-[0.15em] font-semibold">
              {stat.label}
            </dt>
          </div>
        </div>
      ))}
    </dl> -->
  </div>

  <div class="scroll-indicator absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:block opacity-0">
    <div class="flex flex-col items-center gap-3 text-gray-500 cursor-pointer group">
      <span class="text-[10px] uppercase tracking-[0.3em] font-bold group-hover:text-[#00E5FF] transition-colors">Scroll</span>
      <div class="w-6 h-10 border-2 border-gray-700 rounded-full flex items-start justify-center p-1 group-hover:border-[#00E5FF] transition-colors">
        <div class="scroll-dot w-1 h-2 bg-[#00E5FF] rounded-full"></div>
      </div>
    </div>
  </div>
</header>

<style>
  @keyframes gradient { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
  @keyframes scroll-bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(10px); } }
  @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes shimmer { 0% { transform: translateX(-150%) skewX(-20deg); } 100% { transform: translateX(200%) skewX(-20deg); } }

  .animate-gradient { background-size: 200% 200%; animation: gradient 4s ease infinite; }
  .scroll-dot { animation: scroll-bounce 2s ease-in-out infinite; }
  
  .hero-title { animation: fade-in-up 0.8s ease-out 0.2s forwards; }
  .hero-subtitle { animation: fade-in-up 0.8s ease-out 0.4s forwards; }
  .hero-ctas { animation: fade-in-up 0.8s ease-out 0.6s forwards; }
  .stat-card { animation: fade-in-up 0.6s ease-out forwards; }
  .scroll-indicator { animation: fade-in-up 1s ease-out 1.2s forwards; }

  /* Delays dinámicos para las cards */
  .stat-card:nth-child(1) { animation-delay: 0.8s; }
  .stat-card:nth-child(2) { animation-delay: 0.9s; }
  .stat-card:nth-child(3) { animation-delay: 1.0s; }

  .cta-primary:hover .cta-shimmer { animation: shimmer 0.8s ease-out; }

  @media (prefers-reduced-motion: reduce) {
    .opacity-0 { opacity: 1 !important; transform: none !important; animation: none !important; }
  }
</style>

<script>
  // Parallax optimizado
  let mouseX = 0, mouseY = 0, ticking = false;
  
  document.addEventListener('mousemove', (e) => {
    mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
    mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
    
    if (!ticking) {
      window.requestAnimationFrame(() => {
        const bgEffect = document.getElementById('bg-effect');
        if (bgEffect) {
          bgEffect.style.transform = `translate(${mouseX * 20}px, ${mouseY * 20}px)`;
        }
        ticking = false;
      });
      ticking = true;
    }
  });

  // Contador con Intersection Observer
  function animateCounter(element: HTMLElement, target: number) {
    const duration = 1500;
    const startTime = performance.now();
    
    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      
      // Easing out quad
      const easeProgress = progress * (2 - progress);
      const val = easeProgress * target;
      
      element.textContent = target % 1 === 0 ? Math.floor(val).toString() : val.toFixed(1);
      
      if (progress < 1) {
        requestAnimationFrame(update);
      } else {
        element.textContent = target.toString();
      }
    }
    requestAnimationFrame(update);
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const counter = entry.target as HTMLElement;
        const target = parseFloat(counter.dataset.target || '0');
        setTimeout(() => animateCounter(counter, target), 1000);
        observer.unobserve(counter);
      }
    });
  }, { threshold: 0.5 });

  document.querySelectorAll('.counter').forEach(c => observer.observe(c));
</script>